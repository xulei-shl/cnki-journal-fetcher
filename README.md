# LIS 期刊论文追踪助手-SKILL

> 本工具可以帮助您自动追踪图书馆学领域的核心期刊（支持 CNKI、人大报刊复印资料、独立网站等多源期刊），自动筛选与您研究兴趣相关的论文，并生成个性化的阅读报告。

---

## 这是什么？

**LIS 期刊论文追踪助手**是面向图书情报学（图书馆学）领域研究者的多源期刊论文管理工具。

功能包括：
- 📚 **自动获取**您关心的期刊最新论文
- 🎯 **智能筛选**与您研究主题相关的论文
- 📝 **生成报告**方便快速浏览和阅读

---

## 主要功能

| 功能 | 说明 |
|------|------|
| 🔍 **期刊论文爬取** | 自动访问 CNKI、人大报刊复印资料、独立网站，抓取指定期刊、指定年期的论文列表 |
| 🧠 **智能论文筛选** | 根据您的研究兴趣，自动标注相关论文，添加相关度分数和匹配原因 |
| 📊 **人工确认调整** | 展示筛选结果，允许您调整论文相关性标签，优化筛选效果 |
| 📑 **生成筛选报告** | 从所有论文中提取相关论文，生成独立的筛选结果文件 |
| 📋 **生成阅读总结** | 为筛选出的论文生成结构化总结报告，方便快速浏览 |
| 📋 **期刊状态追踪** | 自动记录每个期刊的最新获取状态，避免重复获取 |

---

## 快速上手

### 第一步：启动助手

通过自然语言告诉助手您想做什么，例如：

> "获取《中国图书馆学报》最新的论文"
> "帮我看看《图书情报知识》最近几期有什么新文章"
> "更新所有期刊的最新论文"

### 第二步：确认获取计划

助手会显示详细的爬取计划，例如：

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📋 爬取任务确认
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

期刊: 中国图书馆学报 (双月刊)
网址: navi.cnki.net/knavi/journals/ZGTS/detail
上次获取: 2026-4
本次爬取: 2026-5, 2026-6
预计保存: outputs/中国图书馆学报/2026-5.json, 2026-6.json

是否获取论文摘要?
  [1] 仅论文列表 (推荐，快速) ⭐
  [2] 包含摘要详情 (较慢)

确认执行?
  [3] 确认执行
  [4] 修改参数
  [5] 取消
```

您可以选择：
- [1] 获取论文列表（推荐，快速）
- [2] 包含摘要详情（较慢）
- [3] 确认执行
- [4] 修改参数
- [5] 取消

### 第三步：查看结果

获取和筛选完成后，助手会显示统计信息：

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
✅ 爬取任务完成
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📊 任务统计
┌─────────────────────────────────────┐
│ 期刊名称    │ 中国图书馆学报          │
│ 网址        │ navi.cnki.net/.../ZGTS  │
│ 发行周期    │ 双月刊                   │
│ 计划爬取    │ 2026-5, 2026-6          │
│ 成功获取    │ 2026-5 (12篇)           │
│ 失败        │ 2026-6 (未发布)         │
├─────────────────────────────────────┤
│ 状态已更新  │ 上次获取: 2026-4 → 2026-5│
│ 结果保存    │ outputs/中国图书馆学报/  │
└─────────────────────────────────────┘

📊 过滤统计
┌─────────────────────────────────────┐
│ 总论文数    │ 12 篇                  │
│ 相关论文    │ 9 篇 ⭐ (75%)          │
│ 匹配关键词  │ AI应用、知识组织、对话式搜索 │
└─────────────────────────────────────┘
```

您将看到：
- 获取任务的统计信息（期刊名称、获取年期、论文数量等）
- 相关论文筛选结果（总数、相关论文数、匹配关键词等）
- 论文保存位置
- 期刊状态的更新记录

---

## 工作流程

启动期刊获取任务时，系统会自动执行以下步骤：

```
┌────────────────────────────────────────────────────────────┐
│  步骤 1：初始化                                             │
│  → 读取期刊类型配置和期刊信息文件                           │
└────────────────────────────────────────────────────────────┘
                            ↓
┌────────────────────────────────────────────────────────────┐
│  步骤 2：期刊类型识别                                       │
│  → 根据输入匹配期刊类型（CNKI、人大报刊、独立网站）          │
└────────────────────────────────────────────────────────────┘
                            ↓
┌────────────────────────────────────────────────────────────┐
│  步骤 3：年期解析                                           │
│  → 解析用户输入的年期参数（如"最新X期"、"YYYY-X"等）        │
└────────────────────────────────────────────────────────────┘
                            ↓
┌────────────────────────────────────────────────────────────┐
│  步骤 4：智能计算目标年期                                   │
│  → 根据发行周期和上次获取记录，智能推荐应获取的年期          │
└────────────────────────────────────────────────────────────┘
                            ↓
┌────────────────────────────────────────────────────────────┐
│  步骤 5：显示爬取计划                                       │
│  → 展示详细计划并确认（包含是否获取摘要选项）                │
└────────────────────────────────────────────────────────────┘
                            ↓
┌────────────────────────────────────────────────────────────┐
│  步骤 6：前置目录检查                                       │
│  → 检查并创建输出目录，避免爬取失败                          │
└────────────────────────────────────────────────────────────┘
                            ↓
┌────────────────────────────────────────────────────────────┐
│  步骤 7：执行爬取                                           │
│  → 调用对应爬虫agent，抓取论文信息                           │
└────────────────────────────────────────────────────────────┘
                            ↓
┌────────────────────────────────────────────────────────────┐
│  步骤 8：智能论文过滤 (paper-filter agent)                  │
│  → 自动调用paper-filter，根据MEMORY.md标注相关性            │
└────────────────────────────────────────────────────────────┘
                            ↓
┌────────────────────────────────────────────────────────────┐
│  步骤 9：人工修改确认                                       │
│  → 显示过滤结果，允许用户调整论文相关性标签                  │
└────────────────────────────────────────────────────────────┘
                            ↓
┌────────────────────────────────────────────────────────────┐
│  步骤 10：生成筛选文件                                      │
│  → 执行filter_papers.py，生成独立的filtered.json文件        │
└────────────────────────────────────────────────────────────┘
                            ↓
┌────────────────────────────────────────────────────────────┐
│  步骤 11：自动生成总结报告 (paper-summarizer agent)         │
│  → 为筛选出的论文生成结构化阅读总结报告                      │
└────────────────────────────────────────────────────────────┘
                            ↓
┌────────────────────────────────────────────────────────────┐
│  步骤 12：MEMORY.md更新（条件触发）                         │
│  → 仅当用户修改了过滤标签时，更新研究关键词                 │
└────────────────────────────────────────────────────────────┘
                            ↓
┌────────────────────────────────────────────────────────────┐
│  步骤 13：更新期刊状态                                      │
│  → 记录本次获取年期到期刊信息文件                           │
└────────────────────────────────────────────────────────────┘
```

---

## 个性化配置

根据研究需求，自定义以下内容：

### 一、修改个人信息

**文件位置**：项目根目录 `MEMORY.md`

定义您个人信息和研究兴趣的核心文件。修改方法如下：

#### 1. 打开 MEMORY.md 文件

用文本编辑器打开 `MEMORY.md` 文件，内容如下：

```markdown
## 个人信息
- 姓名：张三
- 职业：图书馆馆员
- 学科领域：图书馆学、信息资源组织
- 关注主题词：知识组织、信息组织、资源描述、元数据、资源编目、
  馆藏资源管理、智慧图书馆、图书馆服务平台、图书馆系统、
  AI应用研究、大模型、智能体（Agent）、检索增强生成（RAG）、
  知识图谱、人智协作、AIGC、生成式人工智能
```

#### 2. 修改个人信息

| 字段 | 修改方法 |
|------|----------|
| **姓名** | 直接修改"张三"为您的名字 |
| **职业** | 修改为您的职业身份 |
| **学科领域** | 修改为您的研究领域 |
| **关注主题词** | 修改或添加您感兴趣的研究关键词，用中文逗号分隔 |

#### 3. 主题词编写建议

主题词是系统筛选论文的依据，建议：

- ✅ **使用专业术语**：如"知识图谱"、"智慧图书馆"、"元数据"等
- ✅ **涵盖多个方向**：如果您的研究涉及多个领域，添加相关关键词
- ✅ **使用规范词汇**：使用学科内通用的规范术语
- ❌ **避免过于宽泛**：如"图书馆"这样的词太泛，匹配结果会很多
- ❌ **避免过于具体**：如某个具体项目名称可能很少被论文使用

#### 4. 示例：重新定义研究兴趣

**修改前**：
```
- 关注主题词：知识组织、信息组织、资源描述
```

**修改后**：
```
- 关注主题词：知识组织、信息组织、资源描述、元数据、
  主题标引、分类法、本体论、知识图谱、
  数字图书馆、馆藏建设、文献资源
```

---

### 二、管理追踪期刊列表

**文件位置**：`.claude/lis-journals-fetcher/reference/journals-list/{类型}-期刊信息.md`

定义您要追踪哪些期刊的配置文件。

#### 1. 打开期刊信息文件

用文本编辑器打开 `期刊信息.md`，内容结构如下：

| 编号 | 期刊名 | 网址 | 周期 | 年期数 | 上次获取 |
|------|--------|------|------|--------|----------|
| 1 | 中国图书馆学报 | https://navi.cnki.net/knavi/journals/ZGTS/detail | 双月 | 1-6 | 2025-6 |
| 2 | 图书情报知识 | https://navi.cnki.net/knavi/journals/TSQC/detail | 双月 | 1-6 | 2024-6 |
| ... | ... | ... | ... | ... | ... |

#### 2. 添加新期刊

添加新的追踪期刊，需要填写以下信息：

| 字段 | 说明 | 示例 |
|------|------|------|
| **编号** | 期刊的序号，按顺序排列 | 3 |
| **期刊名** | 期刊的正式名称 | 大学图书馆学报 |
| **网址** | CNKI期刊导航页的网址 | https://navi.cnki.net/knavi/journals/... |
| **周期** | 出版周期 | 月刊/双月/季刊 |
| **年期数** | 每年出版的期数 | 12（月刊）/6（双月）/4（季刊） |
| **上次获取** | 上次成功获取的年期 | 2025-6（可留空） |

#### 3. 期刊网址获取方法

获取期刊的CNKI网址，按以下步骤操作：

1. 打开中国知网（https://www.cnki.net）
2. 在"来源期刊导航"中找到目标期刊
3. 点击期刊名称进入期刊主页
4. 复制浏览器地址栏中的网址（格式如：https://navi.cnki.net/knavi/journals/ZGTS/detail）

---

### 三、查看与更新期刊状态

#### 1. 期刊状态说明

"上次获取"列记录该期刊最近一次成功获取的年期：

| 状态 | 含义 |
|------|------|
| `2026-6` | 已获取2026年第6期 |
| `2026-4` | 已获取2026年第4期（可能跳过了5期） |
| 空 | 尚未获取过该期刊 |

#### 2. 手动更新状态

如果您手动从CNKI网站查阅了某期刊，可以手动更新状态：

**修改前**：

```
| 2 | 图书情报知识 | https://navi.cnki.net/knavi/journals/TSQC/detail | 双月 | 1-6 | 2025-4 |
```

**修改后**：

```
| 2 | 图书情报知识 | https://navi.cnki.net/knavi/journals/TSQC/detail | 双月 | 1-6 | 2025-6 |
```

#### 3. 重置期刊状态

如果想重新获取某期刊的所有年期，将"上次获取"改为更早的时间或清空：

```
| 2 | 图书情报知识 | https://navi.cnki.net/knavi/journals/TSQC/detail | 双月 | 1-6 | |
```

---

## 常见问题

### Q1：系统是如何判断论文是否相关的？

系统调用 paper-filter subagent，将论文的标题、摘要、关键词与您在 MEMORY.md 中定义的"关注主题词"匹配，为每篇论文添加：

- `interest_match`：布尔值，表示论文是否相关
- `match_reasons`：数组，列出匹配的关键词或原因
- `relevance_score`：0-1 的浮点数，表示相关程度

例如，如果您的关注主题词包含"知识图谱"，那么标题或摘要中包含"知识图谱"的论文会被自动标记 `interest_match: true`，并记录 `match_reasons: ["知识图谱"]` 和相应的相关度分数。

### Q2：论文被误判为不相关怎么办？

自动筛选完成后，系统会展示过滤结果，您可以：

1. 查看每篇论文的标题、匹配原因和相关度分数
2. 在人工确认环节，直接输入论文标题切换其相关性状态
3. 系统会在您完成修改后，更新 MEMORY.md 中的研究关键词，优化后续筛选效果

### Q3：可以获取多年前的论文吗？

可以。在确认获取计划时，输入您想获取的年期即可：

- `2024-1` → 获取2024年第1期
- `最新3期` → 获取最近3期的论文

### Q4：如何查看历史获取记录？

论文数据保存在 `outputs/` 目录下，按期刊名称分文件夹存储：

```
outputs/
├── 中国图书馆学报/
│   ├── 2026-6.json          # 原始论文数据（含 interest_match 标注）
│   ├── 2026-6-filtered.json # 筛选后的相关论文
│   └── 2026-6-summary.md    # 论文总结报告
├── 图书情报知识/
│   └── ...
```

### Q5：系统何时会更新 MEMORY.md 中的研究关键词？

MEMORY.md 的更新有两个触发时机：

1. **自动更新**：仅当您在人工确认环节修改了论文的相关性标签时，系统会调用 memory-updater-agent 分析您手动调整的论文，从中提取新的关键词并更新 MEMORY.md 中的"关注主题词"列表。

2. **手动更新**：您也可以随时手动编辑 MEMORY.md 文件，添加或调整研究关键词。

这种机制确保系统能从您的调整中学习，不断提升论文筛选的准确性。
